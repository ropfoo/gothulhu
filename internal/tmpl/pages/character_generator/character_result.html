<script>
  function toggleInput() {
    const input = document.getElementById("shareInput");
    if (input.style.display === "none") {
      input.style.display = "inline-block";
      input.select();
      input.setSelectionRange(0, 99999);
      document.execCommand("copy");
    } else {
      input.style.display = "none";
    }
  }
</script>

<section id="result" class="character-result">
  <div class="flex row character-header">
    <h1>{{.Character.Name}}</h1>
    <div class="flex row character-header-menu">
      <div>
        <a class="button small" href="#general">edit</a>
      </div>
      <div class="flex column character-header-menu-share">
        <button class="button small" type="button" onclick="toggleInput()">
          share
        </button>
        <input
          type="text"
          id="shareInput"
          class="character-share-input"
          style="display: none; margin-left: 0.5rem"
          value="{{.CharacterURL}}"
          readonly
        />
      </div>
    </div>
  </div>
  <div class="flex row character-info">
    <div class="character-info-left">
      <div class="character-age-gender">
        <p>{{.Character.Age}}</p>
        |
        <p>{{.Character.Gender}}</p>
      </div>
      <div class="character-hp">
        <p>HP {{.Character.HP}}</p>
      </div>
      <div class="character-damage-bonus">
        <p class="character-damage-bonus-title">Damage Bonus</p>
        <div class="character-damage-bonus-row">
          <p class="character-damage-bonus-damage">Damage:</p>
          <p class="character-damage-bonus-damage">
            {{.Character.DamageBonus.Damage}}
          </p>
        </div>
        <div class="character-damage-bonus-row">
          <p class="character-damage-bonus-stature">Stature:</p>
          <p class="character-damage-bonus-stature">
            {{.Character.DamageBonus.Build}}
          </p>
        </div>
      </div>
    </div>
    <div class="character-stats">{{.CharacterStatRows}}</div>
  </div>
</section>
